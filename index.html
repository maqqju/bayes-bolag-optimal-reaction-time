<!DOCTYPE html>
<html>
<head>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.0.4/socket.io.slim.js"></script>
	<script src="bolag.min"></script>
	<title>Bolag Bayes - Optimal Reaction Time</title>
	<script type="text/javascript">
		let socket = io();
	</script>
</head>
<body>
	Hello
	<ul id="pingClicks">
		
	</ul>
	<script type="text/javascript">
		const INTERVAL = 2000;
		const LAG_TIME = 500;
		const max = LAG_TIME * 1.5;
		const min = LAG_TIME * 0;

		document.addEventListener("DOMContentLoaded", () => {
			let lagSufferer = new bolagBayes.LagSufferer(socket, {
				interval : INTERVAL,
				max : max,
				min : min
			});

			lagSufferer.startPinging();

			// socket.emit("loaded", { interval : INTERVAL});
			// let variable = Math.random() * (max - min) + min;
			// let count = 1;

			// let sendMessage = (payload) => socket.emit("ping", payload);
			// setInterval(() => {
			// 	if (count % 20) {
			// 		setTimeout(sendMessage.bind(null, {message : variable, index : count, time : Date.now()}), variable);
			// 		variable = Math.random() * (max - min) + min;
			// 	} 
			// 	count++;
			// }, INTERVAL)
		});
	</script>
</body>
</html>